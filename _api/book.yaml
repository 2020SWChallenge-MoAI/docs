name: Book
description: APIs for book
base_url: /api/book
apis:
  - name: Get All Book Meta Data
    url: 
    method: get
    description: |
      Return all book's meta data.
      * To issue a new access token, refer to <code>Auth.Sign In</code>
    params:
      header:
        - name: x-access-token
          is_required: true
          type: string
          description: Access Token
    response:
      success:
        - status_code: 200
          example: book-getallbooksmetadata-200
      fail:
        - status_code: 401
          description: <code>x-access-token</code> is not valid or expired.
  - name: Get Book Meta Data
    url: /<bid>
    method: get
    description: |
      Return the meta data of the book with certain <code>bid</code>
      * To issue a new access token, refer to <code>Auth.Sign In</code>
      * To get the information of available <code>bid</code>s, refer to <code>Book/Get All Book Meta Data</code>
    params:
      header:
        - name: x-access-token
          is_required: true
          type: string
          description: Access Token
      path:
        - name: bid
          is_required: true
          type: int
          description: BID
    response: 
      success:
        - status_code: 200
          example: book-getbookmetadata-200
      fail: 
        - status_code: 401
          description: <code>x-access-token</code> is not valid or expired.
        - status_code: 404
          description: |
            Requested <code>bid</code> is not valid.
            - <code>bid</code> is not an integer(ex. "asdf", "$-#14af")
            - <code>bid</code> does not exist(ex. "1999, "643215")
  - name: Get Book Cover
    url: /<bid>/cover
    method: get
    description: |
      Return the cover page of the book with certain <code>bid</code>
      * To issue a new access token, refer to <code>Auth.Sign In</code>
      * To get the information of available <code>bid</code>s, refer to <code>Book/Get All Book Meta Data</code>
    params:
      header:
        - name: x-access-token
          is_required: true
          type: string
          description: Access Token
      path:
        - name: bid
          is_required: true
          type: int
          description: BID
    response: 
      success:
        - status_code: 200
          description: image(.png)
      fail: 
        - status_code: 401
          description: <code>x-access-token</code> is not valid or expired.
        - status_code: 404
          description: |
            Requested <code>bid</code> is not valid.
            - <code>bid</code> is not an integer(ex. "asdf", "$-#14af")
            - <code>bid</code> does not exist(ex. "1999, "643215")
  - name: Get Book Page
    url: /<bid>/<page>
    method: get
    description: |
      Return a page of the book with certain <code>bid</code> and certain <code>page</code>
      * <code>page</code> starts from 1 (1 ≤ <code>page</code> ≤ <code>page_num</code>)
      * To issue a new access token, refer to <code>Auth.Sign In</code>
      * To get the information of available <code>bid</code>s, refer to <code>Book/Get All Book Meta Data</code>
      * To get the maximum value(<code>page_num</code>) for <code>page</code>, refer to <code>Book/Get ALl Book Meta Data</code>
    params:
      header:
        - name: x-access-token
          is_required: true
          type: string
          description: Access Token
      path:
        - name: bid
          is_required: true
          type: int
          description: BID
        - name: page
          is_required: true
          type: int
          description: Page Number
    response: 
      success:
        - status_code: 200
          description: image(.png)
      fail: 
        - status_code: 401
          description: <code>x-access-token</code> is not valid or expired.
        - status_code: 404
          description: |
            Requested <code>bid</code> is not valid.
            - <code>bid</code> is not an integer(ex. "asdf", "$-#14af")
            - <code>bid</code> does not exist(ex. "1999, "643215")
            Requested <code>page</code> is not valid.
            - <code>page</code> is not an integer(ex. "asdf", "$-#14af")
            - <code>page</code> does not exist(ex. "1999, "643215")
  - name: Get Book Text
    url: /<bid>/text
    method: get
    description: |
      Return the full text of the book with certain <code>bid</code>
      * Currently, this api is only available for certain bids: 8, 10, 21, 22, 31, 38, 40, 41, 55
      * To issue a new access token, refer to <code>Auth.Sign In</code>
      * To get the information of available <code>bid</code>s, refer to <code>Book/Get All Book Meta Data</code>
    params:
      header:
        - name: x-access-token
          is_required: true
          type: string
          description: Access Token
      path:
        - name: bid
          is_required: true
          type: int
          description: BID
    response: 
      success:
        - status_code: 200
          example: book-getbooktext-200
      fail: 
        - status_code: 401
          description: <code>x-access-token</code> is not valid or expired.
        - status_code: 404
          description: |
            Requested <code>bid</code> is not valid.
            - <code>bid</code> is not an integer(ex. "asdf", "$-#14af")
            - <code>bid</code> does not exist(ex. "1999, "643215")
  - name: Get Book Keyword
    url: /<bid>/keyword
    method: get
    description: |
      Return keywords of the book
      * To issue a new access token, refer to <code>Auth.Sign In</code>
      * To get the information of available <code>bid</code>s, refer to <code>Book/Get All Book Meta Data</code>
      * <code>anc</code> should be a stringified JSON array. Recommend to use <code>JSON.stringify()</code> method.
    params:
      header:
        - name: x-access-token
          is_required: true
          type: string
          description: Access Token
      path:
        - name: bid
          is_required: true
          type: int
          description: BID
      query:
        - name: num
          is_required: false
          type: int
          description: "number of keywords that want to receive (default: 10)"
        - name: anc
          is_required: false
          type: array
          description: "ancestors of keywords (default: <code>[]</code> (empty array))"
    response: 
      success:
        - status_code: 200
          example: book-getbookkeyword-200
      fail: 
        - status_code: 401
          description: <code>x-access-token</code> is not valid or expired.
        - status_code: 404
          description: |
            Requested <code>bid</code> is not valid.
            - <code>bid</code> is not an integer(ex. "asdf", "$-#14af")
            - <code>bid</code> does not exist(ex. "1999, "643215")
  - name: Get Book Main Sentence
    url: /<bid>/keyword
    method: get
    description: |
      Return main sentences of the book
      * To issue a new access token, refer to <code>Auth.Sign In</code>
      * To get the information of available <code>bid</code>s, refer to <code>Book/Get All Book Meta Data</code>
    params:
      header:
        - name: x-access-token
          is_required: true
          type: string
          description: Access Token
      path:
        - name: bid
          is_required: true
          type: int
          description: BID
      query:
        - name: num
          is_required: false
          type: int
          description: "number of main sentences that want to receive (default: 10)"
    response: 
      success:
        - status_code: 200
          example: book-getbookmainsentence-200
      fail: 
        - status_code: 401
          description: <code>x-access-token</code> is not valid or expired.
        - status_code: 404
          description: |
            Requested <code>bid</code> is not valid.
            - <code>bid</code> is not an integer(ex. "asdf", "$-#14af")
            - <code>bid</code> does not exist(ex. "1999, "643215")